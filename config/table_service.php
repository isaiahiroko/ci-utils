<?php defined('BASEPATH') OR exit('No direct script access allowed');

$entity_common_view_actions = array(
    array(
        "title" => "View",
        "action" => "datatableAction",
        "args" => "read, entity",
        "type" => "single-selection-only",
        'entity' => 'orders',
        'ability' => 'read',
        'user' => array('admin'),
        'icon' => 'eye',
    )
);

$entity_common_update_actions = array(
    array(
        "title" => "Edit",
        "action" => "datatableAction",
        "args" => "update, entity",
        "type" => "single-selection-only",
        'entity' => 'orders',
        'ability' => 'update',
        'user' => array('admin'),
        'icon' => 'edit',
    ),					
    array(
        "title" => "Delete",
        "action" => "datatableAction",
        "args" => "delete, entity",
        "type" => "single-selection-only",
        'entity' => 'orders',
        'ability' => 'delete',
        'user' => array('admin'),
        'icon' => 'times',
    )
);

function export_import_actions($entity, $type = "default"){
    return array(
        array(
            "title" => "Export for Edit",
            "action" => "datatableAction",
            "args" => "export,".$entity.",".$type,
            "type" => "multiple-selection-only",
            'entity' => 'orders',
            'ability' => 'update',
            'user' => array('admin'),
            'icon' => 'file-import',
            'id' => 'batch-export-action'
        ),
        array(
            "title" => "Import after Edit",
            "action" => "datatableAction",
            "args" => "export,".$entity.",".$type,
            "type" => "multiple-selection-only",
            'entity' => 'orders',
            'ability' => 'update',
            'user' => array('admin'),
            'icon' => 'file-import',
            'id' => 'batch-import-action'
        ),
    );
}

$config['matrix'] = array(
    'default' => array(
        'all-orders' => array(
            'title' => 'all orders',
            'entity' => 'orders',
            'ability' => 'read',
            'user' => array('admin'),
            'icon' => '',
            'url' => 'dashboard?type=all-orders',
            'filter' => array(
                array(
                    'order_status !=' => NULL,
                    'order_deleted_at' => NULL,
                )
            ), 
            'desc' => 'all orders',
            'actions' => array(),
            'action' => array(),
            'tabs' => array(
                array(
                    'title' => 'all',
                    'filter' => array(
                        array(
                            'order_status !=' => NULL,
                            'order_deleted_at' => NULL,
                        )
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all orders',
                    'entity' => 'orders',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'actions' => array(
                        array(
                            "title" => "Assign to MSP for Survey",
                            "action" => "datatableAction",
                            "args" => "assign, surveys, msp",
                            "type" => "multiple-selection-only",
                            'entity' => 'surveys',
                            'ability' => 'update',
                            'user' => array('admin'),
                            'icon' => '',
                        ),
                        array(
                            "title" => "Reassign to MSP for Survey",
                            "action" => "datatableAction",
                            "args" => "reassign, surveys, msp",
                            "type" => "multiple-selection-only",
                            'entity' => 'surveys',
                            'ability' => 'update',
                            'user' => array('admin'),
                            'icon' => '',
                        ),									
                        array(
                            "title" => "Batch Delete",
                            "action" => "datatableAction",
                            "args" => "delete, orders",
                            "type" => "multiple-selection-only",
                            'entity' => 'orders',
                            'ability' => 'delete',
                            'user' => array('admin'),
                            'icon' => '',
                        ),
                        array(
                            "title" => "Make New Request",
                            "action" => "datatableAction",
                            "args" => "create, orders, customer",
                            "type" => "no-selection-required",
                            'entity' => 'customer-only',
                            'ability' => 'delete',
                            'user' => array('admin'),
                            'icon' => '',
                        ),
                    ),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        $entity_common_update_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'new',
                    'entity' => 'orders',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status' => 'new',
                            'order_deleted_at' => NULL,
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all new orders',
                    'actions' => array(),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'approved',
                    'entity' => 'orders',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status' => 'approved/survey',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status' => 'approved/installation',
                            'order_deleted_at' => NULL,
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all approved orders',
                    'actions' => array(),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'escalated',
                    'entity' => 'orders',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status' => 'escalated/survey',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status' => 'escalated/installation',
                            'order_deleted_at' => NULL,
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all orders',
                    'actions' => array(),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'rejected',
                    'entity' => 'orders',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status' => 'rejected/survey',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status' => 'rejected/installation',
                            'order_deleted_at' => NULL,
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all orders',
                    'actions' => array(),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'activated',
                    'entity' => 'orders',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status' => 'activated/meter',
                            'order_deleted_at' => NULL,
                        )
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'activated orders',
                    'actions' => array(),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                )
            )
        ),
        'new-orders' => array(
            'title' => 'new orders',
            'entity' => 'orders',
            'ability' => 'read',
            'user' => array('admin'),
            'icon' => '',
            'icon' => '',
            'url' => 'dashboard?type=new-orders',
            'filter' => array(
                array(
                    'order_status' => 'new',
                    'order_deleted_at' => NULL,
                )
            ), 
            'desc' => 'new orders',
            'actions' => array(),
            'action' => array(),
            'tabs' => array(
                array(
                    'title' => 'all',
                    'filter' => array(
                        array(
                            'order_status' => 'new',
                            'order_deleted_at' => NULL,
                        )
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'new orders',
                    'entity' => 'orders',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'actions' => array(
                        array(
                            "title" => "Assign to MSP for Survey",
                            "action" => "datatableAction",
                            "args" => "assign, surveys, msp",
                            "type" => "multiple-selection-only",
                            'entity' => 'surveys',
                            'ability' => 'update',
                            'user' => array('admin'),
                            'icon' => '',
                        ),		
                    ),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
            )
        ),
        'surveys' => array(
            'title' => 'surveys',
            'entity' => 'surveys',
            'ability' => 'read',
            'user' => array('admin'),
            'icon' => '',
            'url' => 'dashboard?type=surveys',
            'filter' => array(
                array(
                    'order_status LIKE ' => '%survey',
                    'order_deleted_at' => NULL,
                ),
                // array(
                //     'order_status' => 'payment/assigned',
                //     'order_deleted_at' => NULL,
                // ),
            ), 
            'desc' => 'all orders under survey',
            'actions' => array(),
            'action' => array(),
            'tabs' => array(
                array(
                    'title' => 'all',
                    'filter' => array(
                        array(
                            'order_status LIKE ' => '%survey',
                            'order_deleted_at' => NULL,
                        ),
                        // array(
                        //     'order_status' => 'payment/assigned',
                        //     'order_deleted_at' => NULL,
                        // ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all orders under survey',
                    'entity' => 'surveys',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'actions' => array(				
                        array(
                            "title" => "Assign to SBC for Survey",
                            "action" => "datatableAction",
                            "args" => "assign, surveys, sbc",
                            "type" => "multiple-selection-only",
                            'entity' => 'surveys',
                            'ability' => 'update',
                            'user' => array('admin'),
                            'icon' => '',
                        ),
                        array(
                            "title" => "Reassign to SBC for Survey",
                            "action" => "datatableAction",
                            "args" => "reassign, surveys, sbc",
                            "type" => "multiple-selection-only",
                            'entity' => 'surveys',
                            'ability' => 'update',
                            'user' => array('admin'),
                            'icon' => '',
                        ),					
                        array(
                            "title" => "Submit New Report",
                            "action" => "datatableAction",
                            "args" => "report, surveys, new",
                            "type" => "multiple-selection-only",
                            'entity' => 'agent-only',
                            'ability' => 'update',
                            'user' => array('agent'),
                            'icon' => '',
                        ),				
                    ),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'pending',
                    'entity' => 'surveys',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status' => 'assigned/survey',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status' => 'reassigned/survey',
                            'order_deleted_at' => NULL,
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all pending surveys',
                    'actions' => array(				
                        array(
                            "title" => "Assign to SBC for Survey",
                            "action" => "datatableAction",
                            "args" => "assign, surveys, sbc",
                            "type" => "multiple-selection-only",
                            'entity' => 'msp-only',
                            'ability' => 'update',
                            'user' => array('admin'),
                            'icon' => '',
                        ),
                        array(
                            "title" => "Reassign to SBC for Survey",
                            "action" => "datatableAction",
                            "args" => "reassign, surveys, sbc",
                            "type" => "multiple-selection-only",
                            'entity' => 'msp-only',
                            'ability' => 'update',
                            'user' => array('admin'),
                            'icon' => '',
                        ),				
                        array(
                            "title" => "Submit New Report",
                            "action" => "datatableAction",
                            "args" => "report, surveys, new",
                            "type" => "multiple-selection-only",
                            'entity' => 'agent-only',
                            'ability' => 'update',
                            'user' => array('agent'),
                            'icon' => '',
                        ),		
                    ),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'submitted',
                    'entity' => 'surveys',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status' => 'submitted/survey',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status' => 'resubmitted/survey',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status' => 'incomplete/survey',
                            'order_deleted_at' => NULL,
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all rejected surveys',
                    'actions' => array(
                        array(
                            "title" => "Review Survey",
                            "action" => "datatableAction",
                            "args" => "review, surveys",
                            "type" => "single-selection-only",
                            'entity' => 'surveys',
                            'ability' => 'update',
                            'user' => array('admin'),
                            'icon' => '',
                        ),
                    ),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'approved',
                    'entity' => 'surveys',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status' => 'approved/survey',
                            'order_deleted_at' => NULL,
                        ),
                        // array(
                        //     'order_status' => 'payment/assigned',
                        //     'order_deleted_at' => NULL,
                        // ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all approved surveys',
                    'actions' => array(
                        array(
                            "title" => "Cost of Installation",
                            "action" => "datatableAction",
                            "args" => "generate, invoices",
                            "type" => "multiple-selection-only",
                            'entity' => 'surveys',
                            'ability' => 'update',
                            'user' => array('admin'),
                            'icon' => '',
                        ),
                    ),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'escalated',
                    'entity' => 'surveys',
                    'ability' => 'update',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status' => 'escalated/survey',
                            'order_deleted_at' => NULL,
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all escalated surveys',
                    'actions' => array(
                        array(
                            "title" => "Assign QA/QC Officer",
                            "action" => "datatableAction",
                            "args" => "assign, agents, surveys",
                            "type" => "multiple-selection-only",
                            'entity' => 'surveys',
                            'ability' => 'update',
                            'user' => array('admin'),
                            'icon' => '',
                        ),				
                        array(
                            "title" => "Edit Escalated Report",
                            "action" => "datatableAction",
                            "args" => "report, surveys, rejected",
                            "type" => "multiple-selection-only",
                            'entity' => 'agent-only',
                            'ability' => 'update',
                            'user' => array('agent'),
                            'icon' => '',
                        ),	
                        array(
                            "title" => "Review Survey",
                            "action" => "datatableAction",
                            "args" => "review, surveys",
                            "type" => "single-selection-only",
                            'entity' => 'surveys',
                            'ability' => 'update',
                            'user' => array('admin'),
                            'icon' => '',
                        ),
                    ),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'rejected',
                    'entity' => 'surveys',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status' => 'rejected/survey',
                            'order_deleted_at' => NULL,                            
                        )
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all rejected surveys',
                    'actions' => array(		
                        array(
                            "title" => "Edit Rejected Report",
                            "action" => "datatableAction",
                            "args" => "report, surveys, rejected",
                            "type" => "multiple-selection-only",
                            'entity' => 'agent-only',
                            'ability' => 'update',
                            'user' => array('agent'),
                            'icon' => '',
                        ),	
                    ),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
            )
        ),
        'certifications' => array(
            'title' => 'certifications',
            'entity' => 'lec-only',
            'ability' => 'read',
            'user' => array('admin'),
            'icon' => '',
            'url' => 'dashboard?type=certifications',
            'filter' => array(
                array(
                    'order_status LIKE ' => '%certifications',
                    'order_deleted_at' => NULL,
                ),
            ), 
            'desc' => 'all orders under certifications',
            'actions' => array(),
            'action' => array(),
            'tabs' => array(
                array(
                    'title' => 'all',
                    'filter' => array(
                        array(
                            'order_status LIKE ' => '%certifications',
                            'order_deleted_at' => NULL,
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all orders under certifications',
                    'entity' => 'lec-only',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'actions' => array(),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'pending',
                    'entity' => 'certifications',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status' => 'assigned/survey',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status' => 'reassigned/survey',
                            'order_deleted_at' => NULL,
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all pending certifications',
                    'actions' => array(),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'submitted',
                    'entity' => 'lec-only',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status' => 'submitted/certification',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status' => 'resubmitted/certification',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status' => 'incomplete/certification',
                            'order_deleted_at' => NULL,
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all rejected certifications',
                    'actions' => array(
                        array(
                            "title" => "Review Survey",
                            "action" => "datatableAction",
                            "args" => "review, surveys",
                            "type" => "single-selection-only",
                            'entity' => 'lec-only',
                            'ability' => 'update',
                            'user' => array('admin'),
                            'icon' => '',
                        ),
                    ),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'approved',
                    'entity' => 'lec-only',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status' => 'approved/certifications',
                            'order_deleted_at' => NULL,
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all approved certifications',
                    'actions' => array(
                        array(
                            "title" => "Cost of Installation",
                            "action" => "datatableAction",
                            "args" => "generate, invoices",
                            "type" => "multiple-selection-only",
                            'entity' => 'lec-only',
                            'ability' => 'update',
                            'user' => array('admin'),
                            'icon' => '',
                        ),
                    ),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'escalated',
                    'entity' => 'lec-only',
                    'ability' => 'update',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status' => 'escalated/survey',
                            'order_deleted_at' => NULL,
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all escalated certifications',
                    'actions' => array(),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'rejected',
                    'entity' => 'lec-only',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status' => 'rejected/survey',
                            'order_deleted_at' => NULL,                            
                        )
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all rejected certifications',
                    'actions' => array(),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
            )
        ),
        'payments' => array(
            'title' => 'payments', 
            'entity' => 'invoices',
            'ability' => 'read',
            'user' => array('admin'),
            'icon' => '',
            'url' => 'dashboard?type=payments', 
            'filter' => array(
                array(
                    'order_status LIKE' => 'payment%', 
                    'deleted_at' => NULL
                )
            ),
            'desc' => 'all orders under payments',
            'actions' => array_merge(
                export_import_actions('invoices', 'default')
            ),
            'action' => array_merge(
                $entity_common_view_actions,
                array()
            ),
            'tabs' => array(
                array(
                    'title' => 'all',
                    'filter' => array(
                        array(
                            'order_status LIKE' => 'payment%', 
                            'deleted_at' => NULL
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all orders under payments',
                    'entity' => 'invoices',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'actions' => array(
                        // export_import_actions('invoices', 'default')
                    ),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'Amount' => 'amount',
                        'Meter Type' => 'meter_type',
                        'Payment Type' => 'payment_type',
                        'Transaction ID' => 'reference',
                        // 'MSP' => 'msp_name',
                        // 'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'pending',
                    'entity' => 'invoices',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status' => 'payment/assigned',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status' => 'payment/pending',
                            'order_deleted_at' => NULL,
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all orders pending payments',
                    'actions' => array(
                        array(
                            "title" => "Confirm Payment",
                            "action" => "datatableAction",
                            "args" => "payment, invoices",
                            "type" => "single-selection-only",
                            'entity' => 'invoices',
                            'ability' => 'update',
                            'user' => array('admin'),
                            'icon' => '',
                        )
                    ),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'Amount' => 'amount',
                        'Meter Type' => 'meter_type',
                        'Payment Type' => 'payment_type',
                        'Reference' => 'reference',
                        // 'MSP' => 'msp_name',
                        // 'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'paid',
                    'entity' => 'invoices',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status' => 'payment/confirmed',
                            'order_deleted_at' => NULL,
                        )
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all completed payments',
                    'actions' => array(
                            array(
                                "title" => "Assign MSP for Installation",
                                "action" => "datatableAction",
                                "args" => "assign, installations, msp",
                                "type" => "multiple-selection-only",
                                'entity' => 'installations',
                                'ability' => 'update',
                                'user' => array('admin'),
                                'icon' => '',
                            ),
                            array(
                                "title" => "Reassign MSP for Installation",
                                "action" => "datatableAction",
                                "args" => "reassign, installations, msp",
                                "type" => "multiple-selection-only",
                                'entity' => 'installations',
                                'ability' => 'update',
                                'user' => array('admin'),
                                'icon' => '',
                            ),
                            array(
                                "title" => "Assign SBC for Installation",
                                "action" => "datatableAction",
                                "args" => "assign, installations, sbc",
                                "type" => "multiple-selection-only",
                                'entity' => 'installations',
                                'ability' => 'update',
                                'user' => array('admin'),
                                'icon' => '',
                            ),
                            array(
                                "title" => "Reassign SBC for Installation",
                                "action" => "datatableAction",
                                "args" => "reassign, installations, sbc",
                                "type" => "multiple-selection-only",
                                'entity' => 'installations',
                                'ability' => 'update',
                                'user' => array('admin'),
                                'icon' => '',
                            ),
                    ),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'Amount' => 'amount',
                        'Meter Type' => 'meter_type',
                        'Payment Type' => 'payment_type',
                        'Reference' => 'reference',
                        // 'MSP' => 'msp_name',
                        // 'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
            )
        ),
        'installations' => array(
            'title' => 'installations',
            'entity' => 'installations',
            'ability' => 'read',
            'user' => array('admin'),
            'icon' => '',
            'url' => 'dashboard?type=installations',
            'filter' => array(
                array(
                    'order_status' => 'assigned/installation',
                    'order_deleted_at' => NULL,
                ),
                array(
                    'order_status' => 'reassigned/installation',
                    'order_deleted_at' => NULL,
                ),
                array(
                    'order_status' => 'submitted/installation',
                    'order_deleted_at' => NULL,
                ),
                array(
                    'order_status' => 'resubmitted/installation',
                    'order_deleted_at' => NULL,
                ),
                array(
                    'order_status' => 'incomplete/installation',
                    'order_deleted_at' => NULL,
                ),
                array(
                    'order_status' => 'escalated/installation',
                    'order_deleted_at' => NULL,
                ),
                array(
                    'order_status' => 'rejected/installation',
                    'order_deleted_at' => NULL,
                ),
            ), 
            'desc' => 'all orders under installation',
            'actions' => array_merge(
                export_import_actions('installations', 'default')
            ),
            'action' => array_merge(
                $entity_common_view_actions,
                array()
            ),
            'tabs' => array(
                array(
                    'title' => 'all',
                    'filter' => array(
                        array(
                            'order_status' => 'assigned/installation',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status' => 'reassigned/installation',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status' => 'submitted/installation',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status' => 'resubmitted/installation',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status' => 'incomplete/installation',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status' => 'escalated/installation',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status' => 'rejected/installation',
                            'order_deleted_at' => NULL,
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all orders under installations',
                    'entity' => 'installations',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'actions' => array_merge(
                        // export_import_actions('installations', 'default'),
                        array(
                            array(
                                "title" => "Assign SBC for Installation",
                                "action" => "datatableAction",
                                "args" => "assign, installations, sbc",
                                "type" => "multiple-selection-only",
                                'entity' => 'installations',
                                'ability' => 'update',
                                'user' => array('admin'),
                                'icon' => '',
                            ),
                            array(
                                "title" => "Reassign SBC for Installation",
                                "action" => "datatableAction",
                                "args" => "reassign, installations, sbc",
                                "type" => "multiple-selection-only",
                                'entity' => 'installations',
                                'ability' => 'update',
                                'user' => array('admin'),
                                'icon' => '',
                            ),
                        )
                    ),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'pending',
                    'entity' => 'installations',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status' => 'assigned/installation',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status' => 'reassigned/installation',
                            'order_deleted_at' => NULL,
                        )
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all pending installations',
                    'actions' => array(
                        array(
                            "title" => "Assign SBC for Installation",
                            "action" => "datatableAction",
                            "args" => "assign, installations, sbc",
                            "type" => "multiple-selection-only",
                            'entity' => 'installations',
                            'ability' => 'update',
                            'user' => array('admin'),
                            'icon' => '',
                        ),
                        array(
                            "title" => "Reassign SBC for Installation",
                            "action" => "datatableAction",
                            "args" => "reassign, installations, sbc",
                            "type" => "multiple-selection-only",
                            'entity' => 'installations',
                            'ability' => 'update',
                            'user' => array('admin'),
                            'icon' => '',
                        ),
                    ),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'submitted',
                    'entity' => 'installations',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status' => 'submitted/installation',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status' => 'resubmitted/installation',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status' => 'incomplete/installation',
                            'order_deleted_at' => NULL,
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all rejected installations',
                    'actions' => array(
                        array(
                            "title" => "Review Installation",
                            "action" => "datatableAction",
                            "args" => "review, installations",
                            "type" => "single-selection-only",
                            'entity' => 'installations',
                            'ability' => 'update',
                            'user' => array('admin'),
                            'icon' => '',
                        ),
                    ),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'escalated',
                    'entity' => 'installations',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status' => 'escalated/installation',
                            'order_deleted_at' => NULL,
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all escalaated installations',
                    'actions' => array(
                        array(
                            "title" => "Assign QA/QC Officer",
                            "action" => "datatableAction",
                            "args" => "assign, agents, installations",
                            "type" => "multiple-selection-only",
                            'entity' => 'installations',
                            'ability' => 'update',
                            'user' => array('admin'),
                            'icon' => '',
                        ),
                        array(
                            "title" => "Review Installation",
                            "action" => "datatableAction",
                            "args" => "review, installations",
                            "type" => "single-selection-only",
                            'entity' => 'installations',
                            'ability' => 'update',
                            'user' => array('admin'),
                            'icon' => '',
                        ),
                    ),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'rejected',
                    'entity' => 'installations',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status' => 'rejected/installation',
                            'order_deleted_at' => NULL,
                        )
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all rejected installations',
                    'actions' => array(),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
            )
        ),
        'meter-activation' => array(
            'title' => 'meter activation',
            'entity' => 'meters',
            'ability' => 'read',
            'user' => array('admin'),
            'icon' => '',
            'icon' => '',
            'url' => 'dashboard?type=meter-activation',
            'filter' => array(
                array(
                    'order_status LIKE' => 'approved/installation',
                    'order_deleted_at' => NULL,
                ),
                array(
                    'order_status LIKE' => 'kyc%',
                    'order_deleted_at' => NULL,
                ),
                array(
                    'order_status LIKE' => 'migration%',
                    'order_deleted_at' => NULL,
                ),
                array(
                    'order_status LIKE' => '%meter',
                    'order_deleted_at' => NULL,
                ),
            ), 
            'desc' => 'all orders under meter activation',
            'actions' => array(),
            'action' => array(),
            'tabs' => array(
                array(
                    'title' => 'all',
                    'filter' => array(
                        array(
                            'order_status LIKE' => 'approved/installation',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status LIKE' => 'kyc%',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status LIKE' => 'migration%',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status LIKE' => '%meter',
                            'order_deleted_at' => NULL,
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all orders under meter activation',
                    'entity' => 'meters',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'actions' => array(),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'Pending KYC',
                    'entity' => 'meters',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status LIKE' => 'approved/installation',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status LIKE' => 'kyc/pending',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status LIKE' => 'kyc/rejected/backend',
                            'order_deleted_at' => NULL,
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all orders pending meter activation',
                    'actions' => array(  					
                        array(
                            "title" => "Upload Form 74",
                            "action" => "datatableAction",
                            "args" => "upload, kyc, cs-frontend",
                            "type" => "single-selection-only",
                            'entity' => 'cs-frontend-only',
                            'ability' => 'update',
                            'user' => array('admin'),
                            'icon' => '',
                        ), 
                    ),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'Pending Debt Migration',
                    'entity' => 'meters',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status LIKE' => 'kyc/submitted',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status LIKE' => 'kyc/confirmed',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status LIKE' => 'migration/pending',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status LIKE' => 'kyc/rejected/cs',
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'order_status LIKE' => 'kyc/rejected/fin',
                            'order_deleted_at' => NULL,
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all orders pending debt migration calculation',
                    'actions' => array(  
                        array(
                            "title" => "Review KYC/Form 74",
                            "action" => "datatableAction",
                            "args" => "confirm, kyc",
                            "type" => "single-selection-only",
                            'entity' => 'cs-backend-only',
                            'ability' => 'update',
                            'user' => array('admin'),
                            'icon' => '',
                        ),                 
                        array(
                            "title" => "Calculate Debt Migrattion",
                            "action" => "datatableAction",
                            "args" => "settle-debt, invoices",
                            "type" => "single-selection-only",
                            'entity' => 'debt_migrations',
                            'ability' => 'create',
                            'user' => array('admin'),
                            'icon' => '',
                        ),
                    ),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'Pending CS Approval',
                    'entity' => 'meters',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status LIKE' => 'migration/submitted%',
                            'order_deleted_at' => NULL,
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all orders pending debt migration approval by customer service',
                    'actions' => array(                 
                        array(
                            "title" => "Review Debt Migrattion",
                            "action" => "datatableAction",
                            "args" => "review, migrations, cs",
                            "type" => "single-selection-only",
                            'entity' => 'cs-bu-lead-only',
                            'ability' => 'update',
                            'user' => array('admin'),
                            'icon' => '',
                        ),
                    ),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'Pending Finance Approval',
                    'entity' => 'meters',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status LIKE' => 'migration/confirmed/cs',
                            'order_deleted_at' => NULL,
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all orders pending debt migration approval by finance',
                    'actions' => array(                 
                        array(
                            "title" => "Review Debt Migrattion",
                            "action" => "datatableAction",
                            "args" => "review, migrations, finance",
                            "type" => "single-selection-only",
                            'entity' => 'finance-bu-lead-only',
                            'ability' => 'update',
                            'user' => array('admin'),
                            'icon' => '',
                        ),
                    ),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'Pending Meter Activation',
                    'entity' => 'meters',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status LIKE' => 'migration/confirmed/fin',
                            'order_deleted_at' => NULL,
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all orders pending meter activation',
                    'actions' => array(
                        array(
                            "title" => "Activate on Conlog",
                            "action" => "datatableAction",
                            "args" => "activate, meters",
                            "type" => "single-selection-only",
                            'entity' => 'meters',
                            'ability' => 'update',
                            'user' => array('admin'),
                            'icon' => '',
                        ),
                    ),
                    'action' => array(),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'activated',
                    'entity' => 'meters',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'order_status' => 'activated/meter',
                            'order_deleted_at' => NULL,
                        )
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all activated meters',
                    'actions' => array(),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
            )
        ),
    ),
    'optional' => array(
        'account-creation' => array(
            'title' => 'account creation', 
            'entity' => 'meters', 
            'ability' => 'read', 
            'user' => array('admin'),
            'icon' => '',
            'url' => 'dashboard?type=account-creation', 
            'filter' => array(
                array(
                    'request_type LIKE' => 'separation%',
                    // 'account_number' => NULL,
                    'order_deleted_at' => NULL,
                ),
                array(
                    'request_type' => 'new',
                    // 'account_number' => NULL,
                    'order_deleted_at' => NULL,
                ),
            ),
            'desc' => 'all orders under meter activation',
            'actions' => array_merge(
                export_import_actions('meters', 'default')
            ),
            'action' => array_merge(
                $entity_common_view_actions,
                array()
            ),
            'tabs' => array(
                array(
                    'title' => 'all',
                    'filter' => array(
                        array(
                            'request_type LIKE' => 'separation%',
                            // 'account_number' => NULL,
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'request_type LIKE' => 'new%',
                            // 'account_number' => NULL,
                            'order_deleted_at' => NULL,
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        // array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all orders under meter activation',
                    'entity' => 'meters',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'actions' => array(),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        // 'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'Request Type' => 'request_type',
                        // 'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        // NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'pending new accounts',
                    'entity' => 'meters',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'request_type LIKE' => 'new%',
                            'account_number' => NULL,
                            'order_deleted_at' => NULL,
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        // array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all orders pending meter activation',
                    'actions' => array(
                        array(
                            "title" => "Update Account Number",
                            "action" => "datatableAction",
                            "args" => "account, meters",
                            "type" => "single-selection-only",
                            'entity' => 'meters',
                            'ability' => 'update',
                            'user' => array('admin'),
                            'icon' => '',
                        )
                    ),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        // 'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'Request Type' => 'request_type',
                        // 'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        // NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'pending separation accounts',
                    'entity' => 'meters',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'request_type LIKE' => 'separation%',
                            'account_number' => NULL,
                            'order_deleted_at' => NULL,
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        // array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all orders pending meter activation',
                    'actions' => array(
                        array(
                            "title" => "Update Account Number",
                            "action" => "datatableAction",
                            "args" => "account, meters",
                            "type" => "single-selection-only",
                            'entity' => 'meters',
                            'ability' => 'update',
                            'user' => array('admin'),
                            'icon' => '',
                        )
                    ),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        // 'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'Request Type' => 'request_type',
                        // 'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        // NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
                array(
                    'title' => 'completed',
                    'entity' => 'meters',
                    'ability' => 'read',
                    'user' => array('admin'),
                    'icon' => '',
                    'filter' => array(
                        array(
                            'request_type LIKE' => 'separation%',
                            'account_number !=' => NULL,
                            'order_deleted_at' => NULL,
                        ),
                        array(
                            'request_type LIKE' => 'new%',
                            'account_number !=' => NULL,
                            'order_deleted_at' => NULL,
                        ),
                    ),
                    'filter_in' => array(),
                    'columns_to_edit' => array(
                        // array('request_type', '$1', 'to_child_orders(\"request_type\", \"order_id\")'),
                        array('status', '<span class=\"text-primary\">$1</span>', 'status'),
                    ),
                    'columns_to_add' => array(),
                    'joins' => array(),
                    'desc' => 'all activated meters',
                    'actions' => array(),
                    'action' => array_merge(
                        $entity_common_view_actions,
                        array()
                    ),
                    'columns' => array(
                        'Order_id' => 'order_id',
                        // 'Type' => 'request_type',
                        'Work Order' => 'work_order_id',
                        'A/C No' => 'account_number',
                        'Customer Name' => 'customer_name',
                        'Address' => 'address_description',
                        'BU' => 'business_unit_name',
                        'UT' => 'undertaking_name',
                        'Feeder' => 'feeder_name',
                        'DT' => 'transformer_name',
                        'MSP' => 'msp_name',
                        'Request Type' => 'request_type',
                        // 'SBC' => 'sbc_name',
                        'Qty' => 'order_quantity',
                        'Status' => 'status',
                        'Updated At' => 'updated_at',
                    ),
                    'filter_input_types' => array(
                        NULL,
                        // NULL,
                        'text',
                        'text',
                        'text',
                        'text',
                        'select',
                        'select',
                        'select',
                        'text',
                        'select',
                        'select',
                        NULL,
                        'select',
                        NULL,
                    ),
                    'orderable' => array(),
                    'filterable' => array(),
                    'select_type' => 'multi'
                ),
            )
        ),
    ),
);

$config['user_type_table_name_map'] = array(
    'individual' => NULL,
    'business' => NULL,
    'msp' => 'msps',
    'sbc' => 'sbcs',
    'lec' => 'lecs',
    'agent' => NULL,
    'nmd' => NULL, //'staffs',
    'ns' => NULL, //'staffs',
    'cs' => NULL, //'staffs',
    'finance' => NULL, //'staffs',
    'qaqc' => NULL,
    'admin' => NULL, //'staffs',
    'cs-frontend' => NULL,
    'cs-backend' => NULL,
    'cs-bu-lead' => NULL,
    'finance-bu-lead' => NULL,
);

$config['user_type_filter_map'] = array(
    'individual' => array(),
    'business' => array(),
    'msp' => array(),
    'sbc' => array(),
    'lec' => array(),
    'agent' => array(),
    'nmd' => array(),
    'ns' => array(
        'status' => 'invoice/generated'   
    ),
    'cs' => array(
        'status' => 'invoice/generated'   
    ),
    'finance' => array(
        'status' => 'invoice/generated'   
    ),
    'qaqc' => array(),
    'cs-frontend' => array(),
    'cs-backend' => array(),
    'cs-bu-lead' => array(),
    'finance-bu-lead' => array(),
);

$config['action_status_map'] = array(
    // 'all' => '',
    'assign' => 'assigned',
    'reassign' => 'reassigned',
    'unassign' => 'new',
    'pending' => 'pending',
    'complete' => 'completed',
    'review' => 'reviewed',
    'reject' => 'rejected',
    'approve' => 'approved',
    'generate' => 'generated',
);

$config['action_types'] = array(
    'delete',
    'assign',
    'reassign',
    'review',
    'generate'
);
